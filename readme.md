# ç¬åˆ» - *æ›´ç®€æ´ã€æ›´ç°ä»£åŒ–çš„å†…å®¹å‘å¸ƒå¹³å°*

ä½¿ç”¨vercleå¿«é€Ÿéƒ¨ç½²ï¼š[<img src="https://vercel.com/button" alt="Deploy on Vercel" height="30">](https://vercel.com/new/clone?repository-url=https://github.com/reaishijie/moments&root-directory=frontend&env=VITE_API_BASE_URL&project-name=moments&repository-name=moments)

## é¡¹ç›®æ¦‚è¿°

ç¬åˆ»æ˜¯ä¸€ä¸ªç°ä»£åŒ–çš„ç¤¾äº¤åª’ä½“åº”ç”¨ï¼Œä¸“æ³¨äºä¸ºç”¨æˆ·æä¾›ç®€æ´ã€æµç•…çš„å†…å®¹åˆ†äº«ä½“éªŒã€‚é¡¹ç›®é‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œæ”¯æŒæ–‡å­—ã€å›¾ç‰‡ã€è§†é¢‘ç­‰å¤šç§å†…å®¹ç±»å‹çš„å‘å¸ƒå’Œäº¤äº’ã€‚

### é¡¹ç›®ç‰¹è‰²

- ğŸš€ **ç°ä»£åŒ–æŠ€æœ¯æ ˆ**: Vue 3 + Node.js + TypeScript + MySQL
- ğŸ“± **ç§»åŠ¨ç«¯ä¼˜å…ˆ**: å“åº”å¼è®¾è®¡ï¼Œå®Œç¾é€‚é…ç§»åŠ¨è®¾å¤‡
- ğŸ” **å®Œå–„çš„è®¤è¯ç³»ç»Ÿ**: JWT è®¤è¯ï¼Œæ”¯æŒæ¸¸å®¢è®¿é—®å’Œç‚¹èµ
- ğŸ’¬ **å¤šçº§è¯„è®ºç³»ç»Ÿ**: æ”¯æŒè¯„è®ºå‘è¡¨ä¸å›å¤
- ğŸ“ **ä½ç½®æœåŠ¡**: è·å–åŸºç¡€åœ°ç†ä½ç½®åŠŸèƒ½
- ğŸ“Š **å®Œæ•´çš„æ—¥å¿—ç³»ç»Ÿ**: ç”¨æˆ·è¡Œä¸ºè¿½è¸ªå’Œç³»ç»Ÿç›‘æ§

## å¿«é€Ÿéƒ¨ç½²è¯·æŸ¥çœ‹ï¼š[doc/quickDeploy.md](doc/quickDeploy-readme.md)

ä½¿ç”¨`build.sh`æ—¶å€™æ³¨æ„å‰ç«¯`.env`çš„æ¥å£ä¿®æ”¹ä¸º `VITE_API_BASE_URL=/api` ï¼Œå‰åç«¯åˆ†ç¦»åˆ™ä½¿ç”¨ `VITE_API_BASE_URL=http://localhost:9889/api`(è®°å¾—æ›¿æ¢æˆä½ çœŸå®åç«¯åœ°å€)

## é¡¹ç›®é¢„è§ˆ


|                                                    é¦–é¡µï¼ˆäº®ï¼‰                                                    |                                                    é¦–é¡µï¼ˆæš—ï¼‰                                                    |                                                     æ–‡ç« è¯¦æƒ…                                                     |
| :---------------------------------------------------------------------------------------------------------------: | :---------------------------------------------------------------------------------------------------------------: | :---------------------------------------------------------------------------------------------------------------: |
| <img width="300" alt="1" src="https://github.com/user-attachments/assets/25231327-80e1-426f-9afd-6a1bf3fce939" /> | <img width="300" alt="2" src="https://github.com/user-attachments/assets/3ac8fdd8-46f7-4a17-bdfd-080737268c37" /> | <img width="300" alt="3" src="https://github.com/user-attachments/assets/ca4ff306-5aec-4ec9-b06c-e8fb833fa8d6" /> |
|                                                     **æ¨å¹¿**                                                     |                                                  **å‘å¸ƒæ–‡ç« **                                                  |                                                   **ç”¨æˆ·èµ„æ–™**                                                   |
| <img width="300" alt="4" src="https://github.com/user-attachments/assets/01710755-98d4-4b43-85b7-1b08a675fa27" /> | <img width="300" alt="5" src="https://github.com/user-attachments/assets/45735944-d30d-4f9e-b05d-1c3017b0774f" /> | <img width="300" alt="6" src="https://github.com/user-attachments/assets/b946afd9-3451-4175-a65a-20647e104b1d" /> |

## æ›´æ–°è®¡åˆ’ï¼š[doc/update.md](doc/update.md)

### æœ¬æ¬¡æ›´æ–°

* [X]  è§†é¢‘å°é¢ï¼ˆé¦–å¸§å›¾ï¼‰
* [X]  å¹¿å‘Šç±»å‹è·³è½¬è¶…é“¾æ¥
* [X]  å‹æƒ…é“¾æ¥é¡µé¢
* [X]  å‰ç«¯é€šçŸ¥ï¼šæ•°æ®åº“è¡¨
* [X]  åå°ä¸Šä¼ æ–‡ä»¶æ¥å£ï¼šæ–°å¢æœ¬åœ°ä¸Šä¼ å’ŒS3å‚¨å­˜æ¡¶ï¼ˆæˆ‘æ˜¯ä½¿ç”¨CF R2è¿›è¡Œçš„æµ‹è¯•æ²¡é—®é¢˜ï¼‰
* [X]  æ–‡ç« æ ‡ç­¾ï¼ˆTAGï¼‰ï¼šæ•°æ®åº“
* [X]  å…¨å±€é»‘æš—æ¨¡å¼ + å›åˆ°é¡¶éƒ¨

## ç¨‹åºå¼€å‘

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/reaishijie/moments.git
cd moments

# 2. åç«¯ç¯å¢ƒæ­å»º
cd backend
npm install

# åˆ›å»ºç¯å¢ƒé…ç½®æ–‡ä»¶
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œé…ç½®æ•°æ®åº“è¿æ¥å’Œå…¶ä»–ç¯å¢ƒå˜é‡

# æ•°æ®åº“åˆå§‹åŒ–
npx prisma migrate deploy
npx prisma generate
npm run db:setup

# å¯åŠ¨åç«¯æœåŠ¡
npm run dev

# 3. å‰ç«¯ç¯å¢ƒæ­å»ºï¼ˆæ–°ç»ˆç«¯çª—å£ï¼‰
cd ../frontend
npm install

# åˆ›å»ºç¯å¢ƒé…ç½®æ–‡ä»¶
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œé…ç½® API åœ°å€ç­‰

# å¯åŠ¨å‰ç«¯æœåŠ¡
npm run dev
```

## ç¨‹åºä¸Šçº¿

### è½¯ä»¶ç¯å¢ƒå®‰è£…

- Node.JSç¯å¢ƒï¼ˆ16+ï¼‰
- MySQLï¼ˆ5.6+ï¼‰
- PM2ï¼ˆç”¨äºæŒä¹…åŒ–ï¼‰

### ç¨‹åºè¿è¡Œ

```bash
 # 1. å…‹éš†é¡¹ç›®
git clone https://github.com/reaishijie/moments.git
cd moments

# 2. åç«¯ç¯å¢ƒæ­å»º
cd backend
npm install

# åˆ›å»ºç¯å¢ƒé…ç½®æ–‡ä»¶
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œé…ç½®æ•°æ®åº“è¿æ¥å’Œå…¶ä»–ç¯å¢ƒå˜é‡

# æ•°æ®åº“åˆå§‹åŒ–
npx prisma migrate deploy
npx prisma generate
npm run db:setup

# æ„å»ºåç«¯æ–‡ä»¶ç›®å½•
npm run build

# ä½¿ç”¨pm2 æŒä¹…åŒ–åç«¯æœåŠ¡
pm2 start dist/index.js


# 3. å‰ç«¯ç¯å¢ƒæ­å»ºï¼ˆæ–°ç»ˆç«¯çª—å£ï¼‰
cd ../frontend
npm install

# åˆ›å»ºç¯å¢ƒé…ç½®æ–‡ä»¶
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œé…ç½® API åœ°å€ç­‰

# æ„å»ºå‰ç«¯æ–‡ä»¶ç›®å½•
npm run build

# å¯åŠ¨å‰ç«¯æœåŠ¡
# åœ¨nginx/OpenRestyæ·»åŠ ç½‘ç«™ï¼Œç›®å½•é€‰æ‹©frontend/dist
#ä¼ªé™æ€è§„åˆ™ï¼š 
location / {
    try_files $uri $uri/ /index.html;
 }
```

## å¼€æºåè®®

æœ¬é¡¹ç›®é‡‡ç”¨ Apache å¼€æºåè®®ï¼Œè¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸ºæœ¬é¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…å’Œç”¨æˆ·ï¼

## Star History

[![Star History Chart](https://api.star-history.com/svg?repos=reaishijie/moments&type=Date)](https://www.star-history.com/#reaishijie/moments&Date)
