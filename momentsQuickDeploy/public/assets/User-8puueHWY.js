import{d as h,u as g,h as v,i as m,p as y,c as l,b as t,k as b,J as n,X as u,n as a,t as c,K as d,W as x,o as p,_ as k}from"./index-vHkR6Xec.js";import{u as U}from"./setting-DT6Rv-hw.js";const S={class:"basic-container"},C={class:"item"},V={class:"checkbox-item"},w={for:"user_status"},D={class:"item"},M={class:"checkbox-item"},B={for:"user_auth"},E={class:"item"},N={class:"checkbox-item"},j={for:"user_captcha"},A={key:0},I={class:"item"},J={class:"item"},K=h({__name:"User",setup(L){const _=g(),i=v(),s=U();m(async()=>{const r=i.show("正在加载信息中","loading");await s.getAllConfig()?i.update(r,{type:"success",text:"加载成功",duration:2e3}):(i.update(r,{type:"error",text:"加载信息失败",duration:2e3}),_.handleLogout(),y.replace({name:"index"}))});const f=async()=>{if(s.hasChanged()){const r=s.getUpdateData(),e=i.show("正在更新中...","loading");try{await x(r),i.update(e,{type:"success",text:"更新成功",duration:2e3}),Object.assign(s.originalData,s.configs)}catch(o){i.update(e,{type:"error",text:"更新失败",duration:2e3}),console.error("更新失败:",o)}}else i.show("数据未改动","info",2e3)};return(r,e)=>(p(),l("div",S,[t("div",C,[e[5]||(e[5]=t("label",{for:"user_status"},"默认用户状态：",-1)),t("div",V,[n(t("input",{type:"checkbox",id:"user_status","onUpdate:modelValue":e[0]||(e[0]=o=>a(s).configs.user_status=o),"true-value":"1","false-value":"0"},null,512),[[u,a(s).configs.user_status]]),t("label",w,c(a(s).configs.user_status==="1"?"激活":"未激活"),1)])]),t("div",D,[e[6]||(e[6]=t("label",{for:"user_auth"},"邮箱验证：",-1)),t("div",M,[n(t("input",{type:"checkbox",id:"user_auth","onUpdate:modelValue":e[1]||(e[1]=o=>a(s).configs.user_auth=o),"true-value":"1","false-value":"0"},null,512),[[u,a(s).configs.user_auth]]),t("label",B,c(a(s).configs.user_auth==="1"?"已开启":"已关闭"),1)])]),t("div",E,[e[7]||(e[7]=t("label",{for:"user_captcha",title:"hcaptcha接口"},"人机验证：",-1)),t("div",N,[n(t("input",{type:"checkbox",id:"user_captcha","onUpdate:modelValue":e[2]||(e[2]=o=>a(s).configs.user_captcha=o),"true-value":"1","false-value":"0"},null,512),[[u,a(s).configs.user_captcha]]),t("label",j,c(a(s).configs.user_captcha==="0"?"已关闭":"已开启"),1)])]),a(s).configs.user_captcha==="1"?(p(),l("div",A,[t("div",I,[e[8]||(e[8]=t("label",{for:"verify_hcaptcha_app"},"app密钥：",-1)),n(t("input",{"onUpdate:modelValue":e[3]||(e[3]=o=>a(s).configs.verify_hcaptcha_app=o),id:"verify_hcaptcha_app",type:"text",placeholder:"如52c4***-***-***-***"},null,512),[[d,a(s).configs.verify_hcaptcha_app]])]),t("div",J,[e[9]||(e[9]=t("label",{for:"verify_hcaptcha_user"},"用户密钥：",-1)),n(t("input",{"onUpdate:modelValue":e[4]||(e[4]=o=>a(s).configs.verify_hcaptcha_user=o),id:"verify_hcaptcha_user",type:"text",placeholder:"如ES_***"},null,512),[[d,a(s).configs.verify_hcaptcha_user]])])])):b("",!0),t("button",{onClick:f},"更 新")]))}}),W=k(K,[["__scopeId","data-v-1b393799"]]);export{W as default};
